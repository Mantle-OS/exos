header:
  version: 14
  includes:
    - distro/cache.yml
    - distro/ota/ota.yml
    - layers/sw/meta-mantle-bsp.yml
    - layers/sw/meta-mantle-distro.yml
    - layers/sw/meta-openembedded.yml
    - layers/sw/poky.yml
    - layers/sw/meta-clang.yml
    - layers/sw/meta-mono.yml
    - layers/sw/meta-openjdk-temurin.yml
    - layers/sw/meta-virtualization.yml
    - layers/sw/meta-browser.yml
    - layers/sw/meta-iot-cloud.yml
    - layers/sw/meta-qt5.yml
    - layers/sw/meta-noto.yml
    - layers/sw/meta-office.yml
    - layers/sw/meta-python2.yml
    - layers/sw/meta-qt6.yml
    - layers/sw/meta-neural-network.yml

defaults:
  repos:
    branch: scarthgap

distro: mantle

target:
  - mantle-image
  - mantle-docker
#  - mantle-fill-repo

local_conf_header:
  0001_a: |
    CONF_VERSION = "2"
    BUILDHISTORY_COMMIT = "1"
    INHERIT += "  rm_work buildhistory image-buildinfo "
    OE_TERMINAL = "auto"
    PATCHRESOLVE = "noop"
    BB_SERVER_TIMEOUT = "30"
    BB_DISKMON_DIRS ??= "\
      STOPTASKS,${TMPDIR},1G,100K \
      STOPTASKS,${DL_DIR},1G,100K \
      STOPTASKS,${SSTATE_DIR},1G,100K \
      STOPTASKS,/tmp,100M,100K \
      HALT,${TMPDIR},100M,1K \
      HALT,${DL_DIR},100M,1K \
      HALT,${SSTATE_DIR},100M,1K \
      HALT,/tmp,10M,1K"
    SDKMACHINE ?= "x86_64"
    PACKAGE_DEBUG_SPLIT_STYLE = "debug-without-src"
